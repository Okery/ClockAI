<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>学生打卡</title>
		<link rel="stylesheet" type="text/css" href="css/globel.css"/>
		<link rel="stylesheet" type="text/css" href="css/clock_in.css"/>
		<script src="js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/clock_in.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<div class="header">
			<center>
				<h1>
					人工智能学院打卡系统
				</h1>
				
			</center>
		</div>
		<div class="content">
			<div class="content-title">
				<h2>
					请填入姓名，进行打卡
				</h2>
			</div>
			<div class="content-input">
				<input type="" name="" id="studentName" value="" />
			</div>
			<div class="content-clock">
				<button type="button" id="addClock" onclick="addClock()">打卡</button>
			</div>
		</div>
		<div class="footter">
			<center>
				<h4>
					Copyright © 2020-2020 hwtang.com
				</h4>
			</center>
		</div>
		
	</body>
	<script type="text/javascript">
		function addClock(){
			var studentName = $("#studentName").val()
			var clockName = getUrlParam("clock")
			if(studentName==null || studentName == ""){
				alert("请输入姓名")
			}else{
				$.ajax({
					type: "POST",//方法类型
					dataType: "json",//预期服务器返回的数据类型
					url: "http://hwtang.ticp.net/ClockAI_war_exploded/studentClock/clock" ,
					data: {
						"studentName" : studentName,
						"fileName" : clockName+'.txt'
					},
					success: function (result) {
					    alert("打卡成功！")
					},
					error : function(result) {
						alert("打卡成功！")
					}
				});
			}
		}
		function getUrlParam(name) {
            var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); 
            var r = window.location.search.substr(1).match(reg);  
            if (r != null) return unescape(r[2]); return null; 
        }
	</script>
</html>
